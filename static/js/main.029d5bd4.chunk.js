(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{18:function(e,t,n){},28:function(e,t,n){},37:function(e,t,n){},45:function(e,t,n){},50:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(19),r=n.n(c),s=(n(45),n(4)),u=n(16),d=n(39),o=n(10),m="LOAD_DATA",j="INPUT_CITY",l="PAGE_SET",b="FIND_DAY",p="SHOW_ERR",h=n(73);function O(e){var t=e.daily;return[0,1,2,3,4].map((function(e){var n,a=function(e){var t=new Date;return new Date(t.setDate(t.getDate()+e))}(e),i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][a.getDay()],c=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]}(a),r=(n=a.getDate(),t.filter((function(e){return new Date(1e3*e.dt).getDate()===n}))),s=Math.floor(r[0].temp.min-273),u=Math.floor(r[0].temp.max-273);return{id:Object(h.a)(),day:i,month:c,dateDay:a.getDate(),img:r[0].weather[0].icon,tMin:s,tMax:u}}))}function f(e,t){var n=e.list,a=function(e){var t=n.map((function(t){return function(e,t){var n=new Date(1e3*e.dt);if(n.setMilliseconds(-108e5),n.getDate()===t)return{info:e,time:n.getHours()}}(t,e)})),a=function(e){return t.filter((function(e){return void 0!==e})).filter((function(t){var n=t.info;if(t.time===e)return n}))},i=function(e,t){switch(t){case"img":return!(a(e).length<1)&&a(e)[0].info.weather[0].icon;case"temp":return a(e).length<1?"--":Math.floor(a(e)[0].info.main.temp-273);default:return a(e).length<1?"--":a(e)[0].info.main.humidity}};return[{id:Object(h.a)(),partOfTheDay:"night",twoTimes:[{id:Object(h.a)(),time:"00:00",img:i(0,"img"),temp:i(0,"temp"),humidity:i(0,"humidity")},{id:Object(h.a)(),time:"03:00",img:i(3,"img"),temp:i(3,"temp"),humidity:i(3,"humidity")}]},{id:Object(h.a)(),partOfTheDay:"morning",twoTimes:[{id:Object(h.a)(),time:"06:00",img:i(6,"img"),temp:i(6,"temp"),humidity:i(6,"humidity")},{id:Object(h.a)(),time:"09:00",img:i(9,"img"),temp:i(9,"temp"),humidity:i(9,"humidity")}]},{id:Object(h.a)(),partOfTheDay:"day",twoTimes:[{id:Object(h.a)(),time:"12:00",img:i(12,"img"),temp:i(12,"temp"),humidity:i(12,"humidity")},{id:Object(h.a)(),time:"15:00",img:i(15,"img"),temp:i(15,"temp"),humidity:i(15,"humidity")}]},{id:Object(h.a)(),partOfTheDay:"evening",twoTimes:[{id:Object(h.a)(),time:"18:00",img:i(18,"img"),temp:i(18,"temp"),humidity:i(18,"humidity")},{id:Object(h.a)(),time:"21:00",img:i(21,"img"),temp:i(21,"temp"),humidity:i(21,"humidity")}]}]};return[0,1,2,3,4].map((function(e){var n=function(e){var t=new Date;return new Date(t.setDate(t.getDate()+e))}(e),i=n.getDate(),c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()],r=a(i),s=function(e){return t.daily.filter((function(t){return new Date(1e3*t.dt).getDate()===e}))}(i)[0];return{id:Object(h.a)(),yearNum:n.getFullYear().toString().substr(-2),monthNum:n.getMonth()+1,dayNum:i,dayName:c,img:s.weather[0].icon,todayTemp:Math.floor(s.temp.day-273),likeTemp:Math.floor(s.feels_like.day-273),wind:s.wind_deg,speedWind:s.wind_speed,humidity:s.humidity,pressure:s.pressure,tempArr:r}}))}var y={allDataObjTwo:{},findCity:"\u041a\u0438\u0435\u0432",arrTop:[{day:"monday",dateDay:14,month:"april",img:"04d",tMin:"+5",tMax:"+10"}],arrTemp:[{time:"00:00",img:"04d",temp:"5",humidity:"9"}],detailsArr:null,page:null,detailsDay:null,showErrFind:!1};var g=Object(u.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(o.a)(Object(o.a)({},e),{},{showErrFind:t.valueShow});case j:return Object(o.a)(Object(o.a)({},e),{},{findCity:t.city});case m:var n=t.data,a=n.fiveDaysData,i=n.oneCallData;return 404===a?(console.log("\u0442\u0430\u043a\u043e\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),Object(o.a)(Object(o.a)({},e),{},{showErrFind:!0})):Object(o.a)(Object(o.a)({},e),{},{allDataObjTwo:t.data,arrTop:O(i),detailsArr:f(a,i),showErrFind:!1});case l:return Object(o.a)(Object(o.a)({},e),{},{page:t.page});case b:var c=t.page,r=e.detailsArr.find((function(e){var t=e.dayNum;return+c===+t}));return console.log(c),Object(o.a)(Object(o.a)({},e),{},{detailsDay:r});default:return e}}),Object(u.a)(d.a)),x=(n(28),n(5)),v=(n(50),n(12)),D=n.n(v),w=n(17),N=n(24),T=n.n(N),E="f553d313edd0d50254f7ee1ba1440fe5",S="Kyiv",M=function(){var e=Object(w.a)(D.a.mark((function e(){var t,n,a,i,c=arguments;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:S,e.prev=1,e.next=4,T.a.get("https://api.openweathermap.org/data/2.5/forecast?q=".concat(t,"&appid=").concat(E));case 4:return n=e.sent,e.next=7,n.data.city.coord;case 7:return a=e.sent,e.next=10,T.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(a.lat,"&lon=").concat(a.lon,"&exclude={part}&appid=").concat(E));case 10:return i=e.sent,e.abrupt("return",{fiveDaysData:n.data,oneCallData:i.data});case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt("return",{fiveDaysData:404,oneCallData:404});case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}(),k=function(e){return{type:l,page:e}},F=function(e){return{type:m,data:e}},C=n(1),A=function(){var e=Object(a.useState)(""),t=Object(x.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(""),r=Object(x.a)(c,2),u=r[0],d=r[1],o=Object(s.c)((function(e){return e.findCity})),m=Object(a.useState)(!1),l=Object(x.a)(m,2),b=l[0],p=l[1],h=Object(s.c)((function(e){return e.showErrFind})),O=Object(s.b)(),f=function(){O({type:j,city:n}),O(function(e){return function(){var t=Object(w.a)(D.a.mark((function t(n){var a;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(e);case 2:a=t.sent,n(F(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n))};return Object(a.useEffect)((function(){console.log(o),d(o)}),[o]),Object(a.useEffect)((function(){p(h)}),[h]),Object(C.jsxs)("div",{className:"part-for-input",children:[Object(C.jsx)("input",{type:"search",onChange:function(e){i(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&f()},value:n,placeholder:"Enter the city you are interested in",className:"input"}),Object(C.jsxs)("button",{onClick:f,className:"button",children:[" ","Here we go"]}),Object(C.jsx)("p",{className:"cityShow",style:{fontSize:"2em",color:"green"},children:b?Object(C.jsxs)(C.Fragment,{children:["The city ",u," doesn't exist"]}):Object(C.jsx)(C.Fragment,{children:u})})]})},P=n(3),_=(n(18),function(e){var t=e.time,n=e.img,a=e.temp,i=e.humidity;return Object(C.jsxs)("div",{className:"miniCardBlock",children:[Object(C.jsx)("div",{children:Object(C.jsxs)("p",{className:"timeP",children:["time: ",t]})}),Object(C.jsx)("div",{children:n?Object(C.jsx)("img",{className:"miniImg",src:"http://openweathermap.org/img/w/".concat(n,".png")}):Object(C.jsx)("p",{children:" no data "})}),Object(C.jsx)("div",{children:Object(C.jsxs)("p",{className:"miniTemp",children:[" temp: ",a," \xb0 "]})}),Object(C.jsx)("div",{children:Object(C.jsxs)("p",{className:"miniHum",children:["humidity: ",i," %"]})})]})}),I=function(e){var t=e.arrDayParts.map((function(e){var t=e.id,n=e.partOfTheDay,a=e.twoTimes;return Object(C.jsxs)("div",{style:{backgroundColor:"#87CEFA",borderRadius:"15px",border:"1px solid #fff",marginRight:"4px",height:"100%"},children:[Object(C.jsx)("p",{className:"parts",children:n}),a.map((function(e){var t=e.id,n=e.time,a=e.img,i=e.temp,c=e.humidity;return Object(C.jsx)(_,{time:n,img:a,temp:i,humidity:c},t)}))]},t)}));return Object(C.jsx)("div",{className:"positionUnderCard",children:t})},W=function(e){var t=e.dayNum,n=e.monthNum,i=e.yearNum,c=e.img,r=e.todayTemp,s=e.likeTemp,u=e.speedWind,d=e.humidity,o=e.pressure,m=e.tempArr;console.log(m);var j=Object(a.useState)(""),l=Object(x.a)(j,2),b=l[0],p=l[1],h=Object(a.useState)(""),O=Object(x.a)(h,2),f=O[0],y=O[1];return Object(a.useEffect)((function(){r>0?p("+"):r<1&&p(""),s>0?y("+"):s<1&&y("")}),[]),Object(C.jsxs)("div",{className:"underBlock",children:[Object(C.jsxs)("div",{className:"cardBlock2",children:[Object(C.jsxs)("div",{className:"selectedDate",children:[Object(C.jsx)("p",{className:"num",children:t}),Object(C.jsxs)("p",{className:"month",children:["0",n]}),Object(C.jsxs)("p",{children:["20",i]})]}),Object(C.jsx)("div",{children:Object(C.jsx)("img",{className:"img",src:"http://openweathermap.org/img/w/".concat(c,".png")})}),Object(C.jsx)("div",{children:Object(C.jsxs)("p",{className:"tempToday",children:[" ","temp: ",b,r," \xb0"]})}),Object(C.jsx)("div",{children:Object(C.jsxs)("p",{children:[" ","feels like: ",f,s," \xb0"," "]})}),Object(C.jsx)("div",{children:Object(C.jsxs)("p",{children:["wind-speed: ",u," m/s"]})}),Object(C.jsx)("div",{children:Object(C.jsxs)("p",{children:["humidity: ",d," %"]})}),Object(C.jsx)("div",{children:Object(C.jsxs)("p",{children:["pressure: ",o," hPa"]})})]}),Object(C.jsx)(I,{arrDayParts:m})]})},B=function(){var e=Object(P.e)(),t=Object(a.useState)(!1),n=Object(x.a)(t,2),i=n[0],c=n[1],r=Object(P.f)().numDay,u=Object(s.b)(),d=Object(s.c)((function(e){return e.detailsDay})),o=Object(s.c)((function(e){return e.page}));return Object(a.useEffect)((function(){if(void 0===r){var t=(new Date).getDate();u(k(t)),e.push("/day/".concat(t))}else u(k(r))}),[r]),Object(a.useEffect)((function(){null!==o&&u({type:b,page:o})}),[o]),Object(a.useEffect)((function(){c(null!==d&&d)}),[d]),Object(C.jsx)(C.Fragment,{children:i?Object(C.jsx)(W,{dayNum:i.dayNum,monthNum:i.monthNum,img:i.img,yearNum:i.yearNum,todayTemp:i.todayTemp,likeTemp:i.likeTemp,speedWind:i.speedWind,humidity:i.humidity,pressure:i.pressure,tempArr:i.tempArr}):null})},J=(n(37),n(13)),R=function(e){var t=e.day,n=e.dateDay,i=e.month,c=e.img,r=e.tMin,s=e.tMax,u=Object(a.useState)(""),d=Object(x.a)(u,2),o=d[0],m=d[1],j=Object(a.useState)(""),l=Object(x.a)(j,2),b=l[0],p=l[1],h=function(e,t){e>0?t("+"):e<1&&t("")};return Object(a.useEffect)((function(){h(r,m),h(s,p)}),[r,s]),Object(C.jsx)(J.b,{to:"/day/".concat(n),style:{textDecoration:"none",backgroundColor:"white",borderRadius:"17px"},activeStyle:{backgroundColor:"#87CEFA"},children:Object(C.jsxs)("div",{className:"cardBlock",children:[Object(C.jsx)("div",{children:Object(C.jsx)("p",{children:t})}),Object(C.jsxs)("div",{className:"date",children:[Object(C.jsx)("p",{className:"dateDay",children:n}),Object(C.jsx)("p",{className:"month",children:i})]}),Object(C.jsx)("div",{children:Object(C.jsx)("img",{className:"img",src:"http://openweathermap.org/img/w/".concat(c,".png")})}),Object(C.jsxs)("div",{className:"temp",children:[Object(C.jsxs)("p",{className:"min",children:[" ","min: ",o," ",r," \xb0"]}),Object(C.jsxs)("p",{className:"max",children:[" ","max: ",b," ",s," \xb0"]})]})]})})},H=function(){var e=Object(s.c)((function(e){return e.arrTop})),t=Object(s.b)(),n=function(){t(function(){var e=Object(w.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:n=e.sent,t(F(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};Object(a.useEffect)((function(){n()}),[]),Object(a.useEffect)((function(){}),[e]);var i=e.map((function(e){var t=e.id,n=e.day,a=e.dateDay,i=e.month,c=e.img,r=e.tMin,s=e.tMax;return Object(C.jsx)(R,{day:n,dateDay:a,month:i,img:c,tMin:r,tMax:s},t)}));return Object(C.jsx)("div",{className:"positionTopCard",children:i})},L=function(){var e=Object(a.useState)(!1),t=Object(x.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(!1),r=Object(x.a)(c,2),u=r[0],d=r[1],o=Object(s.c)((function(e){return e.detailsArr})),m=Object(s.c)((function(e){return e.showErrFind}));Object(s.b)();return Object(a.useEffect)((function(){i(null!==o)}),[o]),Object(a.useEffect)((function(){d(m)}),[m]),Object(C.jsx)("div",{children:u?null:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(H,{})," ",n?Object(C.jsxs)(C.Fragment,{children:[" ",Object(C.jsx)(P.a,{path:"/",exact:!0,component:B}),Object(C.jsx)(P.a,{path:"/day/:numDay",component:B})]}):null]})})},Y=n.p+"static/media/spring.16f4b0b3.jpg",K=function(){return Object(C.jsx)(J.a,{basename:"/weather-project/",children:Object(C.jsx)(s.a,{store:g,children:Object(C.jsxs)("div",{className:"backgroung-image",style:{backgroundImage:"url("+Y+")"},children:[Object(C.jsx)(A,{}),Object(C.jsx)(L,{})]})})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,74)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};r.a.render(Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(K,{})}),document.getElementById("root")),U()}},[[72,1,2]]]);
//# sourceMappingURL=main.029d5bd4.chunk.js.map